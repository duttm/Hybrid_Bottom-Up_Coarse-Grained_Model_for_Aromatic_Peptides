<cg>
<!--nonbonded water-->
  <non-bonded>
    <name>AMD-SOL</name>
    <type1>AMD</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>AMD-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_AMD_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>
  <non-bonded>
    <name>CA-SOL</name>
    <type1>CA</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>CA-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_CA_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>
  <non-bonded>
    <name>COO-SOL</name>
    <type1>COO</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>COO-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_COO_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>
  <non-bonded>
    <name>NH3-SOL</name>
    <type1>NH3</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>NH3-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_NH3_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>
  <non-bonded>
    <name>PHA-SOL</name>
    <type1>PHA</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>PHA-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_PHA_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>
  <non-bonded>
    <name>PHB-SOL</name>
    <type1>PHB</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>PHB-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_PHB_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>
  <non-bonded>
    <name>PHC-SOL</name>
    <type1>PHC</type1>
    <type2>SOL</type2>
    <min>0</min>
    <max>1.0</max>
    <step>0.01</step>
    <inverse>
      <target>PHC-SOL.dist.tgt</target>
      <do_potential>1</do_potential>
      <post_update></post_update>
      <post_add></post_add>
      <gromacs>
        <table>table_PHC_SOL.xvg</table>
      </gromacs>
    </inverse>
  </non-bonded>

  <!-- general options for inverse script -->
  <inverse>
    <!-- 300*0.00831451 gromacs units -->
    <kBT>2.49435</kBT>
    <!-- use gromacs as simulation program -->
    <program>gromacs</program>
    <!-- gromacs specific options -->
    <gromacs>
      <!-- trash so many frames at the beginning -->
      <equi_time>20</equi_time>
      <!-- grid for table*.xvg !-->
      <table_bins>0.002</table_bins>
      <!-- cut the potential at this value (gromacs bug) -->
      <pot_max>1000000</pot_max>
      <!-- extend the tables to this value -->
      <table_end>2.5</table_end>
      <mdrun>
       <command>
         mpirun -np 32 gmx_mpi mdrun
      	</command>
        <opts>
		    -v -ntomp 1	-tableb
		    table_b1.xvg table_b2.xvg table_b3.xvg table_b4.xvg table_b5.xvg
            table_b6.xvg table_b7.xvg table_b8.xvg table_b9.xvg table_b10.xvg
            table_b11.xvg table_b12.xvg table_b13.xvg table_b14.xvg table_b15.xvg
            table_b16.xvg table_b17.xvg table_b18.xvg
		    table_a1.xvg table_a2.xvg table_a3.xvg table_a4.xvg table_a5.xvg 
		    table_a6.xvg table_a7.xvg table_a8.xvg table_a9.xvg table_a10.xvg 
            table_a11.xvg table_a12.xvg table_a13.xvg table_a14.xvg table_a15.xvg
            table_a16.xvg table_a17.xvg table_a18.xvg table_a19.xvg table_a20.xvg 
            table_a21.xvg table_a22.xvg table_a23.xvg table_a24.xvg table_a25.xvg
            table_a26.xvg 
		    
		</opts>
      </mdrun>
       <grompp>
      <bin>
     	 mpirun -np 1 gmx_mpi grompp
      </bin>
   </grompp>
      <rdf>
        <topol>topol.tpr</topol>
      </rdf>
    </gromacs>

    <simulation>
      <tasks>
        1
      </tasks>
    </simulation>
    <!-- these files are copied for each new run -->
    <filelist>
    	grompp.mdp topol.top table.xvg index.ndx table_SOL_SOL.xvg
	        table_b1.xvg table_b2.xvg table_b3.xvg table_b4.xvg table_b5.xvg
            table_b6.xvg table_b7.xvg table_b8.xvg table_b9.xvg table_b10.xvg
            table_b11.xvg table_b12.xvg table_b13.xvg table_b14.xvg table_b15.xvg
            table_b16.xvg table_b17.xvg table_b18.xvg
	        table_a1.xvg table_a2.xvg table_a3.xvg table_a4.xvg table_a5.xvg 
	        table_a6.xvg table_a7.xvg table_a8.xvg table_a9.xvg table_a10.xvg 
            table_a11.xvg table_a12.xvg table_a13.xvg table_a14.xvg table_a15.xvg
            table_a16.xvg table_a17.xvg table_a18.xvg table_a19.xvg table_a20.xvg 
            table_a21.xvg table_a22.xvg table_a23.xvg table_a24.xvg table_a25.xvg
            table_a26.xvg 
                table_NH3_NH3.xvg table_NH3_CA.xvg table_NH3_AMD.xvg table_NH3_PHA.xvg
            table_NH3_PHB.xvg table_NH3_PHC.xvg table_NH3_COO.xvg table_CA_CA.xvg table_CA_AMD.xvg
            table_CA_PHA.xvg table_CA_PHB.xvg table_CA_PHC.xvg table_CA_COO.xvg table_AMD_AMD.xvg
            table_AMD_PHA.xvg table_AMD_PHB.xvg table_AMD_PHC.xvg table_AMD_COO.xvg table_PHA_PHA.xvg
            table_PHA_PHB.xvg table_PHA_PHC.xvg table_PHA_COO.xvg table_PHB_PHB.xvg table_PHB_PHC.xvg
            table_PHB_COO.xvg table_PHC_PHC.xvg table_PHC_COO.xvg table_COO_COO.xvg     	
    </filelist>
    <!-- do so many iterations -->
    <iterations_max>150</iterations_max>
    <!-- ibi: iterative boltzmann inversion -->
    <method>ibi</method>
    <!-- directory for user scripts -->
    <scriptpath></scriptpath>
    <!-- write log to this file -->
    <log_file>inverse.log</log_file>
    <!-- write restart step to this file -->
    <restart_file>restart_points.log</restart_file>
  </inverse>

</cg>
